<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MyMauiApp.StudentDashboardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Shell.NavBarIsVisible="False"
    BackgroundColor="White"
    Padding="0">

    <Grid RowDefinitions="Auto,*">

        <!-- Ð¤Ð¾Ð½Ð¾Ð²Ñ‹Ðµ Ð²Ð¾Ð»Ð½Ñ‹ Ð½Ð° Ð²ÐµÑÑŒ ÑÐºÑ€Ð°Ð½ -->
        <Image Source="bg_waves.png"
               Aspect="AspectFill"
               Opacity="0.25"
               Grid.RowSpan="2" />

        <!-- Ð§ÐÐ ÐÐÐ¯ Ð’Ð•Ð Ð¥ÐÐ¯Ð¯ ÐŸÐÐÐ•Ð›Ð¬ -->
        <Grid Grid.Row="0">
            <Grid.Background>
                <SolidColorBrush Color="Black" />
            </Grid.Background>

            <Grid Padding="20,40,20,24"
                  RowDefinitions="Auto,Auto"
                  RowSpacing="16">

                <!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð¼ÐµÐ½ÑŽ, Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº, ÐºÐ¾Ð»Ð¾ÐºÐ¾Ð»ÑŒÑ‡Ð¸Ðº -->
                <Grid Grid.Row="0"
                      ColumnDefinitions="Auto,*,Auto"
                      ColumnSpacing="12">

                    <!-- ÐœÐµÐ½ÑŽ -->
                    <Label Text="â˜°"
                           FontSize="22"
                           TextColor="White"
                           VerticalOptions="Center"
                           HorizontalOptions="Start" />

                    <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                    <Label Grid.Column="1"
                           Text="Wszystkie kursy"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center"
                           VerticalOptions="Center" />

                    <!-- Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ -->
                    <Label Grid.Column="2"
                           Text="ðŸ””"
                           FontSize="22"
                           TextColor="Gold"
                           VerticalOptions="Center"
                           HorizontalOptions="End" />
                </Grid>

                <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Ñ Ð¸Ð½Ñ„Ð¾ -->
                <Frame Grid.Row="1"
                       CornerRadius="24"
                       Padding="12"
                       BackgroundColor="White"
                       HasShadow="False">

                    <Grid ColumnDefinitions="Auto,*"
                          ColumnSpacing="12">

                        <!-- ÐÐ²Ð°Ñ‚Ð°Ñ€ -->
                        <Frame WidthRequest="48"
                               HeightRequest="48"
                               CornerRadius="24"
                               Padding="0"
                               BackgroundColor="#E5EBFF"
                               HasShadow="False"
                               HorizontalOptions="Start"
                               VerticalOptions="Center">
                            <Label Text="ðŸ‘¤"
                                   FontSize="24"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center" />
                        </Frame>

                        <!-- Ð˜Ð¼Ñ + Ð¸Ð½Ñ„Ð¾ Ð¾ ÐºÑƒÑ€ÑÐ°Ñ… -->
                        <VerticalStackLayout Grid.Column="1"
                                             Spacing="2"
                                             VerticalOptions="Center">
                            <!-- Ð˜Ð¼Ñ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð° -->
                            <Label x:Name="StudentNameLabel"
                                   Text="ImiÄ™ studenta"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="Black" />

                            <!-- Ð¢ÐµÐºÑÑ‚ Ð¿Ñ€Ð¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÑƒÑ€ÑÐ¾Ð² -->
                            <Label x:Name="CoursesInfoLabel"
                                   Text="0 kursÃ³w, na ktÃ³re jesteÅ› zapisany"
                                   FontSize="13"
                                   TextColor="#555555" />
                        </VerticalStackLayout>
                    </Grid>
                </Frame>
            </Grid>
        </Grid>

        <!-- ÐÐ˜Ð–ÐÐ¯Ð¯ Ð§ÐÐ¡Ð¢Ð¬: Ð¡ÐŸÐ˜Ð¡ÐžÐš ÐšÐ£Ð Ð¡ÐžÐ’ -->
        <CollectionView Grid.Row="1"
                        ItemsSource="{Binding StudentCourses}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame CornerRadius="26"
                           Padding="14,10"
                           BackgroundColor="White"
                           BorderColor="Black"
                           HasShadow="False"
                           Margin="20,8,20,0">

                        <Frame.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnCourseTapped"
                                                  CommandParameter="{Binding .}" />
                        </Frame.GestureRecognizers>

                        <Grid ColumnDefinitions="Auto,*,Auto"
                              ColumnSpacing="12">

                            <!-- Ð˜ÐºÐ¾Ð½ÐºÐ° ÐºÑƒÑ€ÑÐ° -->
                            <Frame WidthRequest="40"
                                   HeightRequest="40"
                                   CornerRadius="20"
                                   Padding="4"
                                   HasShadow="False"
                                   BackgroundColor="{Binding IconBackground}"
                                   VerticalOptions="Center">
                                <Image Source="{Binding Icon}"
                                       Aspect="AspectFit" />
                            </Frame>

                            <!-- ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ð¿Ð¾Ð´Ð¿Ð¸ÑÑŒ -->
                            <VerticalStackLayout Grid.Column="1"
                                                 Spacing="2"
                                                 VerticalOptions="Center">
                                <Label Text="{Binding Title}"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="Black" />
                                <Label Text="{Binding Subtitle}"
                                       FontSize="12"
                                       TextColor="#555555" />
                            </VerticalStackLayout>

                        </Grid>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </Grid>
</ContentPage>